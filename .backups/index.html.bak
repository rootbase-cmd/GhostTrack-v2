<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GhostTrackâ€‘v2 â€” Premium Cosmic Node</title>
<style>
body { margin:0; font-family:system-ui, sans-serif; background:#050711; color:#e5f7ff; }
header { padding:16px; text-align:center; border-bottom:1px solid #1b2235; background:radial-gradient(circle at top,#1b2a4a,#050711); }
h1 { margin:0; font-size:22px; }
h2 { margin:0; font-size:14px; opacity:0.8; }
#tabs { display:flex; flex-wrap:wrap; border-bottom:1px solid #1b2235; background:#070a16; }
.tab { flex:1 1 50%; padding:10px; text-align:center; cursor:pointer; font-size:13px; border-right:1px solid #1b2235; border-bottom:1px solid #1b2235; }
.tab:nth-child(2n) { border-right:none; }
.tab.active { background:#11182b; color:#7fffd4; font-weight:600; }
section { padding:14px; }
.grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(230px,1fr)); gap:10px; }
.card { background:#0b1020; border:1px solid #1b2235; border-radius:8px; padding:10px; font-size:12px; }
.card h3 { margin:0 0 6px 0; font-size:13px; color:#7fffd4; }
.badge { display:inline-block; padding:2px 6px; border-radius:4px; font-size:10px; margin:2px 2px 0 0; border:1px solid #2f3c5f; }
.badge-ok { border-color:#00c853; color:#00c853; }
.badge-warn { border-color:#ffb300; color:#ffb300; }
.badge-off { border-color:#546e7a; color:#546e7a; }
pre { background:#050814; padding:8px; border-radius:6px; overflow:auto; font-size:11px; }
.small { font-size:11px; opacity:0.8; }
a { color:#7fffd4; text-decoration:none; }
a:hover { text-decoration:underline; }
.tagline { font-size:11px; opacity:0.7; margin-top:4px; }
#chatlog { height:200px; overflow:auto; background:#050814; padding:8px; border-radius:6px; }
#chatinput { width:100%; margin-top:8px; padding:6px; border-radius:4px; border:1px solid #1b2235; background:#050814; color:#e5f7ff; }
video { border-radius:6px; border:1px solid #1b2235; }
</style>
</head>
<body>

<header>
    <button id="menuButton" class="menu-btn" onclick="GhostTrackMenu.toggle()">â˜° Menu</button>
  <h1>ğŸŒŒ GhostTrackâ€‘v2</h1>
  <h2>Premium Cosmic Node â€” Pragone Constellation</h2>
  <div class="tagline">Osservazione etica Â· Territorio Â· Orbita Â· Sport Â· Reti Â· Astro Â· Chat locale</div>
</header>
<div id="tabs">
  <div class="tab active" data-target="mission">ğŸ›° Mission</div>
  <div class="tab" data-target="env">ğŸŒ Environment</div>
  <div class="tab" data-target="cyber">ğŸ›¡ Security</div>
  <div class="tab" data-target="space">ğŸ“¡ Orbital</div>
  <div class="tab" data-target="maps">ğŸ—º Maps</div>
  <div class="tab" data-target="sport">ğŸ”¥ Sport</div>
  <div class="tab" data-target="localchat">ğŸ’¬ Chat</div>
  <div class="tab" data-target="astro2">ğŸŒŒ Astro</div>
  <div class="tab" data-target="academy">ğŸ“ Docs</div>
  <div class="tab" data-target="citizen">âœ¨ Citizen</div>
</div>
<!-- MISSION CONTROL -->
<section id="mission" class="panel">
  <h2>ğŸ›° Mission Control â€” System & Telemetry</h2>
  <div class="grid">
    <div class="card">
      <h3>ğŸ“¡ Telemetria Nodo</h3>
      <p id="node-telemetry">
        <b>Uptime:</b> demo<br>
        <b>Load Avg:</b> demo<br>
        <b>Disco:</b> demo<br>
        <b>IP:</b> demo<br>
        <b>Status:</b> <span class="badge badge-ok">OK</span>
      </p>
      <p class="small">In futuro puÃ² leggere da docs/telemetry.json.</p>
    </div>
      <h3>ğŸ§± Sistema Core</h3>
      <p>
        <span class="badge badge-ok">NodeCore</span>
        <span class="badge badge-ok">RitualEngine</span>
        <span class="badge badge-ok">TelemetryCore</span><br>
        <span class="badge badge-ok">LogEngine</span>
        <span class="badge badge-ok">ConfigSystem</span><br>
        <span class="badge badge-warn">RepairEngine</span>
        <span class="badge badge-ok">SyncEngine</span>
      <h3>ğŸ”§ Rituali</h3>
      <pre>
MasterRitual   âœ” ultima esecuzione: demo
FullRitual     âœ” ultima esecuzione: demo
OmegaRitual    â³ in attesa
AutoSync       âœ” attivo
SuperCommit    âœ” attivo
      </pre>
  </div>
</section>
<!-- ENVIRONMENT & AGRO -->
<section id="env" class="panel" style="display:none;">
  <h2>ğŸŒ Environment & Agro</h2>
      <h3>ğŸŒ¡ Microclima</h3>
      <p id="microclima">
        <b>Lat:</b> demo<br>
        <b>Lon:</b> demo<br>
        <b>Temperatura:</b> demo<br>
        <b>UmiditÃ :</b> demo<br>
        <b>Pressione:</b> demo<br>
        <b>Vento:</b> demo
      <p class="small">Si aggiorna con geolocalizzazione + API meteo quando online.</p>
      <h3>ğŸŒ¾ AgroWatch</h3>
      <p id="agro">
        <span class="badge badge-ok">SoilSense</span>
        <span class="badge badge-ok">RainPulse</span>
        <span class="badge badge-warn">WindWatch</span><br>
        <span class="badge badge-off">ForestGuard</span>
        <span class="badge badge-off">GeoSentinel</span>
      <p class="small">Mostra anche qualitÃ  aria quando online.</p>
<!-- SECURITY & NETWORK -->
<section id="cyber" class="panel" style="display:none;">
  <h2>ğŸ›¡ Security & Network</h2>
      <h3>ğŸ” CyberDefense</h3>
        <span class="badge badge-ok">CyberDefense Core</span>
        <span class="badge badge-ok">ThreatWatch</span><br>
        <span class="badge badge-ok">Intrusion Sentinel</span>
        <span class="badge badge-ok">Network Shield</span><br>
        <span class="badge badge-warn">ZeroTrust Layer</span>
        <span class="badge badge-ok">Integrity Guardian</span>
      <h3>ğŸŒ Mesh & MultiWAN</h3>
        <span class="badge badge-ok">MeshNode</span>
        <span class="badge badge-ok">LinkWatch</span><br>
        <span class="badge badge-ok">MultiWAN Engine</span>
        <span class="badge badge-warn">Fallback System</span>
<!-- ORBITAL -->
<section id="space" class="panel" style="display:none;">
  <h2>ğŸ“¡ Orbital & Space</h2>
      <h3>ğŸ›° OrbitalWatch</h3>
        <span class="badge badge-ok">Satellite Tracker</span>
        <span class="badge badge-ok">TLE Engine</span><br>
        <span class="badge badge-warn">SpaceWeather Monitor</span>
        <span class="badge badge-ok">StarlinkNode</span>
      <h3>ğŸ›° ISS Position</h3>
      <div id="isspos">In attesa dati...</div>
      <p class="small">Quando online, mostra la posizione attuale della ISS.</p>
<!-- MAPS -->
<section id="maps" class="panel" style="display:none;">
  <h2>ğŸ—º Offline Maps & GPS</h2>
      <h3>ğŸ“ GPS Nodo</h3>
      <p id="gpsbox">
        <b>Altitudine:</b> demo
      <p class="small">In futuro puÃ² usare geolocalizzazione locale.</p>
      <h3>ğŸ—º Mappa Offline (concetto)</h3>
[â–ˆâ–ˆ] Tiles OSM offline
[â—] Nodo Pragone
[â—‹] Punto osservazione
<!-- SPORT HUB -->
<section id="sport" class="panel" style="display:none;">
  <h2>ğŸ”¥ Sport & Action Hub</h2>
      <h3>ğŸ¬ Clip Offline (Demo)</h3>
      <video width="100%" controls>
        <source src="assets/sport/demo.mp4" type="video/mp4">
      </video>
      <p class="small">Aggiungi i tuoi video in docs/assets/sport/</p>
      <h3>ğŸ“º Link Ufficiali Red Bull</h3>
      <p class="small">
        <a href="https://www.redbull.com" target="_blank">Red Bull â€“ sito ufficiale</a><br>
        <a href="https://www.redbull.com/int-en/tv" target="_blank">Red Bull TV â€“ pagina ufficiale</a>
      <h3>ğŸ Eventi Sportivi</h3>
[Evento] Freeride World Tour
[Evento] Cliff Diving Series
[Evento] Drift Masters
<!-- LOCAL CHAT -->
<section id="localchat" class="panel" style="display:none;">
  <h2>ğŸ’¬ Chat Locale</h2>
  <div class="card">
    <div id="chatlog"></div>
    <input id="chatinput" type="text" placeholder="Scrivi e premi Invio...">
    <p class="small">Chat locale, offline, simulata dal nodo.</p>
<!-- ASTRO OBSERVATORY -->
<section id="astro2" class="panel" style="display:none;">
  <h2>ğŸŒŒ Cosmic Observatory</h2>
      <h3>ğŸŒ™ Fase Lunare</h3>
      <div id="moonphase">In attesa dati...</div>
      <h3>ğŸ”­ James Webb â€“ NASA Feed</h3>
        <a href="https://www.nasa.gov/image-feature/category/james-webb-space-telescope/" target="_blank">
          NASA JWST â€“ immagini ufficiali
        </a>
      <p class="small">Puoi salvare immagini in docs/assets/astro/ per uso offline.</p>
<!-- ACADEMY -->
<section id="academy" class="panel" style="display:none;">
  <h2>ğŸ“ GhostTrack Academy</h2>
      <h3>ğŸ“– Telemetria</h3>
        Uptime â†’ stabilitÃ <br>
        Load â†’ carico<br>
        Disco â†’ spazio<br>
        Stato â†’ OK / WARN / CRIT
      <h3>ğŸ“˜ Documentazione</h3>
        - Architettura<br>
        - Moduli<br>
        - Reti<br>
        - Astro<br>
        - Sport
<!-- CITIZEN SCIENCE -->
<section id="citizen" class="panel" style="display:none;">
  <h2>âœ¨ Citizen Science</h2>
      <h3>ğŸ““ Osservazioni</h3>
[Osservazione] 2026-01-08
Fauna: demo
Flora: demo
Anomalie: demo
      <h3>ğŸ“¤ Esportazione</h3>
        I dati possono essere esportati manualmente in CSV/JSON
        per analisi esterne.
<script>
// TAB SWITCH
const tabs = document.querySelectorAll('.tab');
const panels = document.querySelectorAll('.panel');
tabs.forEach(tab => {
  tab.addEventListener('click', () => {
    tabs.forEach(t => t.classList.remove('active'));
    panels.forEach(p => p.style.display = 'none');
    tab.classList.add('active');
    document.getElementById(tab.dataset.target).style.display = 'block';
  });
});
// CHAT LOCALE
const chatLog = document.getElementById("chatlog");
const chatInput = document.getElementById("chatinput");
if (chatInput) {
  chatInput.addEventListener("keydown", e => {
    if (e.key === "Enter") {
      const msg = chatInput.value.trim();
      if (!msg) return;
      chatLog.innerHTML += `<div><b>Tu:</b> ${msg}</div>`;
      chatInput.value = "";
      chatLog.scrollTop = chatLog.scrollHeight;
      setTimeout(() => {
        chatLog.innerHTML += `<div><b>Nodo:</b> Ricevuto. ModalitÃ  offline demo.</div>`;
        chatLog.scrollTop = chatLog.scrollHeight;
      }, 300);
    }
}
// ENVIRONMENT API (Open-Meteo)
const envApi = {
  weather: "https://api.open-meteo.com/v1/forecast",
  air: "https://air-quality-api.open-meteo.com/v1/air-quality"
};
const microclimaBox = document.getElementById('microclima');
const agroBox = document.getElementById('agro');
function getLocationAndUpdateEnv() {
  if (!navigator.geolocation) {
    microclimaBox.innerHTML = "<b>Errore:</b> Geolocalizzazione non supportata.";
    return;
  }
  navigator.geolocation.getCurrentPosition(pos => {
    const lat = pos.coords.latitude;
    const lon = pos.coords.longitude;
    updateEnvironment(lat, lon);
  }, () => {
    microclimaBox.innerHTML = "<b>Errore:</b> Geolocalizzazione negata o fallita.";
async function updateEnvironment(lat, lon) {
  try {
    const weatherUrl = `${envApi.weather}?latitude=${lat}&longitude=${lon}&current=temperature_2m,relative_humidity_2m,pressure_msl,wind_speed_10m`;
    const airUrl = `${envApi.air}?latitude=${lat}&longitude=${lon}&hourly=pm10,pm2_5,carbon_monoxide,ozone`;
    const [wRes, aRes] = await Promise.all([fetch(weatherUrl), fetch(airUrl)]);
    const wData = await wRes.json();
    const aData = await aRes.json();
    const c = wData.current || {};
    const h = aData.hourly || {};
    microclimaBox.innerHTML = `
      <b>Lat:</b> ${lat.toFixed(4)}<br>
      <b>Lon:</b> ${lon.toFixed(4)}<br>
      <b>Temperatura:</b> ${c.temperature_2m ?? 'n/d'} Â°C<br>
      <b>UmiditÃ :</b> ${c.relative_humidity_2m ?? 'n/d'} %<br>
      <b>Pressione:</b> ${c.pressure_msl ?? 'n/d'} hPa<br>
      <b>Vento:</b> ${c.wind_speed_10m ?? 'n/d'} km/h
    `;
    const idx = 0;
    agroBox.innerHTML = `
      <span class="badge badge-ok">SoilSense</span>
      <span class="badge badge-ok">RainPulse</span>
      <span class="badge badge-warn">WindWatch</span><br>
      <span class="badge badge-off">ForestGuard</span>
      <span class="badge badge-off">GeoSentinel</span>
        PM10: ${h.pm10 ? h.pm10[idx] : 'n/d'} Âµg/mÂ³<br>
        PM2.5: ${h.pm2_5 ? h.pm2_5[idx] : 'n/d'} Âµg/mÂ³<br>
        CO: ${h.carbon_monoxide ? h.carbon_monoxide[idx] : 'n/d'} Âµg/mÂ³<br>
        Ozono: ${h.ozone ? h.ozone[idx] : 'n/d'} Âµg/mÂ³
  } catch {
    microclimaBox.innerHTML = "<b>Errore:</b> impossibile contattare le API.";
document.querySelector('.tab[data-target="env"]').addEventListener('click', getLocationAndUpdateEnv);
// ISS POSITION
fetch("http://api.open-notify.org/iss-now.json")
  .then(r => r.json())
  .then(d => {
    const lat = d.iss_position.latitude;
    const lon = d.iss_position.longitude;
    document.getElementById("isspos").innerHTML = `Lat: ${lat}<br>Lon: ${lon}`;
  })
  .catch(() => {
    document.getElementById("isspos").innerHTML = "Impossibile ottenere dati ISS.";
// MOON PHASE (demo con Open-Meteo)
fetch("https://api.open-meteo.com/v1/forecast?latitude=45&longitude=9&daily=moon_phase&timezone=auto")
    const phase = d.daily && d.daily.moon_phase ? d.daily.moon_phase[0] : "n/d";
    document.getElementById("moonphase").innerHTML = "Fase lunare: " + phase;
    document.getElementById("moonphase").innerHTML = "Impossibile ottenere dati lunari.";
<<script src="assets/js/ghosttrack.js"></script>
<script src="assets/js/ghosttrack.js"></script>
</body> 
</html>
