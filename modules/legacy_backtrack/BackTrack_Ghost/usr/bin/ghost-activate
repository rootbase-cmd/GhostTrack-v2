#!/usr/bin/env bash
set -e

echo "[GHOST] Attivazione totale in corso..."

###############################################
# 1. CREAZIONE PAGINA DI DOWNLOAD
###############################################
mkdir -p docs

cat > docs/download.html << 'EOF'
<!DOCTYPE html>
<html>
<head>
    <title>Ghost_OS â€” Download</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<h1>Ghost_OS â€” Download Ufficiale</h1>

<p>Scarica l'immagine ufficiale di Ghost_OS, flashabile con Rufus, balenaEtcher e UNetbootin.</p>

<h2>Download</h2>
<p>
    <a class="button" href="../bootable/ghost_os.img">Scarica ghost_os.img</a>
</p>

<h2>Checksum</h2>
<p>Dopo il download, verifica l'integritÃ :</p>
<pre>sha256sum ghost_os.img</pre>

<h2>Come creare la USB</h2>

<h3>Rufus (Windows)</h3>
<ol>
    <li>Apri Rufus</li>
    <li>Seleziona la chiavetta USB</li>
    <li>Seleziona <code>ghost_os.img</code></li>
    <li>START</li>
</ol>

<h3>balenaEtcher (Win/Mac/Linux)</h3>
<ol>
    <li>Select Image â†’ <code>ghost_os.img</code></li>
    <li>Select Target â†’ USB</li>
    <li>Flash</li>
</ol>

<h3>UNetbootin</h3>
<ol>
    <li>Diskimage â†’ IMG</li>
    <li>Seleziona <code>ghost_os.img</code></li>
    <li>Drive â†’ USB</li>
    <li>OK</li>
</ol>

<h2>Note</h2>
<p>L'immagine viene generata automaticamente ad ogni commit tramite GitHub Actions.</p>

</body>
</html>
EOF

echo "[GHOST] Pagina download creata."


###############################################
# 2. README AGGIORNATO + BADGE
###############################################
cat > README.md << 'EOF'
# ðŸœ Ghost_OS  
Sistema operativo rituale di cyber-difesa etica, modulare, auto-rigenerante e integrato con Flipper Zero.

---

## ðŸš€ Bootable USB Ready  
![Bootable USB Ready](https://img.shields.io/badge/Bootable-USB%20Ready-brightgreen)

ðŸ‘‰ **Download ufficiale:**  
https://highkali.github.io/Ghost_Ops_Unit/download.html

---

## ðŸ”¥ Creazione immagine USB

Ghost_OS include uno script che genera lâ€™immagine:

